<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>My Resume</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

  <!-- Пользовательские стили -->
  <link rel="stylesheet" href="static/css/custom.css">
  <link rel="stylesheet" href="static/css/slider_style.css">

  <!-- Тема по умолчанию (light) -->
  <link id="theme-style" rel="stylesheet" href="static/css/light_theme.css">
</head>

<body>

<!-- Шапка / Промо-секция -->
<section class="promo dark-bg pt-2 pb-5">
  <div class="container">
    <!-- Навбар -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container-fluid">
        <!-- Логотип слева -->
        <a href="#" class="navbar-brand logo d-flex align-items-center text-decoration-none">
          <div class="logo-left pe-2">
            <img src="static/images/my_photo.jpg" alt="photo"
                 style="border-radius: 60%; width: 70px; height: 70px;">
          </div>
          <div class="logo-right" style="margin-left: 6px;">
            <div class="logo-title link-purple" data-translate="name">Aidar Asadullin</div>
            <div class="logo-subtitle" data-translate="kredo">Seeker of Happiness</div>
          </div>
        </a>

        <!-- Кнопка гамбургера для мобильных -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Меню -->
        <div class="collapse navbar-collapse" id="navbarNav">
          <!-- Ссылки слева -->
          <ul class="navbar-nav me-auto">
            <li class="nav-item mx-2">
              <a href="#about" class="nav-link link-border-bottom" data-translate="about"></a>
            </li>
            <li class="nav-item mx-2">
              <a href="#education" class="nav-link link-border-bottom" data-translate="education"></a>
            </li>
            <li class="nav-item mx-2">
              <a href="#projects" class="nav-link link-border-bottom" data-translate="projects"></a>
            </li>
            <li class="nav-item mx-2">
              <a href="#contact" class="nav-link link-border-bottom" data-translate="contact"></a>
            </li>
            <!-- Опыт работы + GitHub -->
            <li class="nav-item mx-2 d-flex align-items-center">
              <a href="#experience" class="nav-link link-border-bottom me-3" data-translate="sectionExperience"></a>
              <a href="https://github.com" class="nav-link link-border-bottom">GitHub</a>
            </li>
          </ul>

          <!-- Блок справа: переключатель темы и языков -->
          <ul class="navbar-nav">
            <!-- Сюда вставится переключатель темы -->
            <li class="nav-item mx-2" id="theme-toggle-container"></li>
            <!-- Языки -->
            <li class="nav-item mx-2 language-toggle d-flex align-items-center">
              <a href="#" id="lang-en" class="nav-link active">EN</a>
              <span class="lang-separator mx-1">|</span>
              <a href="#" id="lang-ru" class="nav-link">RU</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Приветствие -->
    <div class="row py-0 py-sm-5">
      <div class="col-12 col-lg-8 offset-lg-2 mb-0 mb-sm-5 py-5">
        <h1 class="h1 font-weight-bold font greeting-text text-blue strikethrough" data-translate="welcomeMessage">
          Hello everyone, my name is Aidar! I am a second-year student at HSE AMI.
        </h1>
      </div>
    </div>
  </div>
</section>

<!-- Переключатель языков (дополнительно, если нужно где-то в другом месте) -->
<!--
<div class="language-toggle">
  <a href="#" id="lang-en" class="active">EN</a> |
  <a href="#" id="lang-ru">RU</a>
</div>
-->

<!-- Раздел "Обо мне" -->
<section class="about bg-light-custom py-5" id="about">
  <div class="container">
    <h2 class="h2 font-weight-bold text-center mb-4" data-translate="about">About me</h2>
    <div class="row">
      <div class="col-12 col-md-8 offset-md-2 text-center">
        <p class="lead" data-translate="aboutDetails">
          A programming student with strong theoretical knowledge in the fields of programming and mathematics...
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Секция образования -->
<section class="education dark-bg-custom pt-3 pt-sm-5 pb-3" id="education">
  <div class="container">
    <h2 class="h1 font-weight-bold text-center mt-4 mt-sm-2 mb-0 mb-sm-4 pb-2 navigo-font" data-translate="education">
      Education
    </h2>
    <div class="work-experience">
      <div class="d-flex align-items-center mb-2">
        <img src="static/images/01_Logo_HSE_full_rus_PANTONE_for_dark_2.png" alt="HSE Logo"
             class="me-3" style="height: 60px; margin-top: -6px;">
        <div class="d-flex flex-column justify-content-center">
          <h3 class="h4 mb-1" data-translate="universityName">HSE University</h3>
          <p class="text-white-40 mb-0" data-translate="universityDates">2023-2027</p>
        </div>
      </div>
      <div class="position mb-4" style="margin-left: 20px;"></div>
      <div class="d-flex align-items-center mb-4">
        <img src="static/images/liceum_logo.jpg" alt="Liceum Logo"
             class="me-3" style="border-radius: 60%; width: 70px; height: 70px;">
        <div class="d-flex flex-column justify-content-center">
          <h3 class="h4 mb-1" data-translate="schoolName">Physics and Math Lyceum #93</h3>
          <p class="text-white-40 mb-0" data-translate="schoolDates">2012-2023</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Секция проектов -->
<section class="projects bg-light-custom-2 pt-3 pt-sm-5 pb-3" id="projects">
  <div class="container">
    <h2 class="h1 font-weight-bold text-center mt-4 mt-sm-2 mb-0 mb-sm-4 pb-2 navigo-font" data-translate="projects">
      Projects
    </h2>
    <div class="projects">
      <!-- LISA -->
      <div class="mb-4">
        <div class="d-flex align-items-center">
          <span class="pr-2">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
              <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          </span>
          <h3 class="h4 mb-0">
            <a href="https://github.com/Tasher239/LISA" class="text-link">LISA | Python</a>
          </h3>
        </div>
        <p class="mt-2 mb-0" data-translate="LISA_info">
          LISA — a chatbot providing secure access to internet resources through VPN...
        </p>
      </div>

      <!-- Image Processor -->
      <div class="mb-4">
        <div class="d-flex align-items-center">
          <span class="pr-2">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
              <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          </span>
          <h3 class="h4 mb-0">
            <a href="https://github.com/asadullinam/asadul" class="text-link">Image Processor | C++</a>
          </h3>
        </div>
        <p class="mt-2 mb-0" data-translate="image_processor_info">
          Image Processor — a console application that applies various filters to BMP images...
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Секция навыков -->
<section class="skills dark-bg-custom pt-3 pt-sm-3 pb-3" id="skills">
  <div class="container">
    <h2 class="h2 font-weight-bold my-4" data-translate="sectionSkills">Technical Skills</h2>
    <div class="row">
      <div class="col-12 col-sm-8 pb-1">
        <ul class="list-unstyled mb-4" id="skills-list">
          <!-- Список генерируется скриптом -->
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Раздел "Опыт работы" -->
<section class="experience bg-light-custom pt-3 pt-sm-3 pb-3" id="experience">
  <div class="container">
    <h2 class="h1 font-weight-bold text-center mt-4 mb-3 mb-sm-5 pb-3 navigo-font" data-translate="sectionExperience">
      Work Experience
    </h2>
    <div class="row">
      <div class="col-12 col-sm-9 offset-sm-2 px-2 pb-5">
        <!-- Лого компании -->
        <div class="d-flex align-items-center mb-2">
          <img src="static/images/experience_logo.png" alt="Company Logo"
               class="me-3" style="height: 60px; margin-top: -6px;">
          <div class="d-flex flex-column justify-content-center">
            <h3 class="h4 mb-1" data-translate="sinara_bank">Sinara Bank</h3>
          </div>
        </div>

        <div class="job mb-4">
          <ul class="list-unstyled text-start" id="experience-list">
            <!-- Список генерируется скриптом -->
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Секция контактов -->
<section class="contact container mb-5 pb-sm-5 pb-0" id="contact">
  <h2 class="h2 font-weight-bold my-4" data-translate="contact">Contacts</h2>
  <div class="row">
    <div class="col-12 col-sm-9">
      <p class="d-flex justify-content-start gap-2 flex-wrap">
        <!-- Telegram -->
        <a href="https://t.me/asaidar" class="btn mb-3 btn-contact" target="_blank"
           data-translate="write_tg">Telegram</a>
        <!-- Email -->
        <a href="mailto:asadullinam@yandex.ru" class="btn mb-3 btn-contact" target="_blank"
           data-translate="emailButton">Email</a>
        <!-- VK -->
        <a href="https://vk.com/asadullinam" class="btn mb-3 btn-contact" target="_blank"
           data-translate="vkButton">VK</a>
      </p>
    </div>
  </div>
</section>

<!-- Футер -->
<footer class="footer dark-bg-custom">
  <nav class="container navbar">
    <ul class="nav m-auto py-2">
      <li class="nav-item mx-3" data-translate="footerInfo">
        Aidar Asadullin’s Resume
      </li>
    </ul>
  </nav>
</footer>

<!-- Скрипты -->
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Скрипт переключения темы и языка -->
<script>
  // === Переключение темы ===
  const themeStyle = document.getElementById('theme-style');
  const currentTheme = localStorage.getItem('theme') || 'light';

  function applyTheme(theme) {
    if (theme === 'dark') {
      themeStyle.href = 'static/css/dark_theme.css';
    } else {
      themeStyle.href = 'static/css/light_theme.css';
    }
    localStorage.setItem('theme', theme);
  }

  // Применяем сохранённую тему или light
  applyTheme(currentTheme);

  // Рендерим переключатель темы в #theme-toggle-container
  document.getElementById('theme-toggle-container').innerHTML = `
    <div class="theme-toggle-container d-flex align-items-center">
      <span class="me-2" data-translate="lightTheme">Light</span>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="theme_toggle" ${
          currentTheme === 'dark' ? 'checked' : ''
        }>
      </div>
      <span class="ms-2" data-translate="darkTheme">Dark</span>
    </div>
  `;

  // Ловим переключение темы
  const themeToggle = document.getElementById('theme_toggle');
  themeToggle.addEventListener('change', () => {
    const newTheme = themeToggle.checked ? 'dark' : 'light';
    applyTheme(newTheme);
  });

  // === Перевод (i18n) ===
  const translations = {
    ru: {
      name: "Асадуллин Айдар",
      kredo: "Искатель счастья",
      about: "Обо мне",
      education: "Образование",
      projects: "Проекты",
      contact: "Контакты",
      sectionExperience: "Опыт работы",
      mail_me: "Почта",
      welcomeMessage: "Всем доброго времени суток, меня зовут Айдар! Я студент 2 курса ВШЭ ПМИ.",
      universityName: "Национальный исследовательский университет «Высшая школа экономики», Москва",
      universityDates: "Бакалавриат, 2023-2027",
      LISA_info: "LISA — чат-бот, предоставляющий безопасный доступ к интернет-ресурсам через VPN. Автоматизирует подписки и анализ статистики.",
      image_processor_info: "Image Processor — консольное приложение на C++, которое позволяет применять различные фильтры к BMP-изображениям (размытие, обрезка, негатив).",
      schoolName: "Физико-математический лицей №93, Уфа",
      schoolDates: "Среднее общее образование, 2012-2023",
      aboutDetails: "Студент-программист с сильной теоретической базой в области программирования и математики...",
      sectionSkills: "Технические навыки",
      sinara_bank: "Синара банк",
      lightTheme: "Светлая",
      darkTheme: "Тёмная",
      footerInfo: "Резюме Асадуллина Айдара",
      write_tg: "Написать в Telegram",
      emailButton: "Почта",
      vkButton: "VK",
      errorNotFound: "Ничего не нашлось! Вот неудача, отправляйтесь на главную!",
      experienceItems: [
        "Работа с микросервисом для PDF-файлов...",
        "Исправление ошибок в доменных проверках...",
        "Парсинг PDF-выписок...",
        "Обработка ошибок при отмене запросов..."
      ],
      skills: [
        "Алгоритмы и структуры данных",
        "Python, C, C++",
        "Docker",
        "Базы данных",
        "JavaScript / HTML / CSS",
        "asyncio",
        "Многопоточность",
        "Многопроцессорность",
        "Digitalization"
      ]
    },
    en: {
      name: "Aidar Asadullin",
      kredo: "Seeker of Happiness",
      about: "About me",
      education: "Education",
      projects: "Projects",
      contact: "Contacts",
      sectionExperience: "Work Experience",
      mail_me: "Email",
      welcomeMessage: "Hello everyone, my name is Aidar! I am a second-year student at HSE AMI.",
      universityName: "National Research University Higher School of Economics, Moscow",
      universityDates: "Bachelor's Degree, 2023-2027",
      LISA_info: "LISA — a chatbot providing secure VPN-based access to internet resources.",
      image_processor_info: "Image Processor — a C++ console app for applying filters (blur, crop, negative) to BMP images.",
      schoolName: "Physics and Mathematics Lyceum No. 93, Ufa",
      schoolDates: "Secondary General Education, 2012-2023",
      aboutDetails: "A programming student with a strong theoretical background in programming and mathematics...",
      sectionSkills: "Technical Skills",
      sinara_bank: "Sinara Bank",
      lightTheme: "Light",
      darkTheme: "Dark",
      footerInfo: "Aidar Asadullin's Resume",
      write_tg: "Write on Telegram",
      emailButton: "Email",
      vkButton: "VK",
      errorNotFound: "Nothing found! What a failure, go back to the main page!",
      experienceItems: [
        "Worked with a microservice for PDF files...",
        "Fixed domain-checking issues...",
        "Parsing PDF statements...",
        "Handling cancellations..."
      ],
      skills: [
        "Algorithms and Data Structures",
        "Python, C, C++",
        "Docker",
        "Databases",
        "JavaScript / HTML / CSS",
        "asyncio",
        "Multithreading",
        "Multiprocessing",
        "Digitalization"
      ]
    }
  };

  const currentLangStorage = localStorage.getItem('lang') || 'en';

  function setActiveLanguage(lang) {
    document.querySelectorAll('.language-toggle a').forEach(el => el.classList.remove('active'));
    const langLink = document.getElementById(`lang-${lang}`);
    if (langLink) langLink.classList.add('active');
  }

  function applyTranslations(lang) {
    document.querySelectorAll('[data-translate]').forEach(el => {
      const key = el.getAttribute('data-translate');
      if (translations[lang][key]) {
        el.textContent = translations[lang][key];
      }
    });

    // Обновить список навыков
    const skillsList = document.getElementById('skills-list');
    if (skillsList) {
      skillsList.innerHTML = '';
      (translations[lang].skills || []).forEach(skill => {
        const li = document.createElement('li');
        li.className = 'd-flex align-items-center align-content-start m-2';
        li.style.lineHeight = '24px';
        li.innerHTML = `
          <span class="pr-1">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="white">
              <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          </span>
          <span>${skill}</span>
        `;
        skillsList.appendChild(li);
      });
    }

    // Обновить опыт
    const experienceList = document.getElementById('experience-list');
    if (experienceList) {
      experienceList.innerHTML = '';
      (translations[lang].experienceItems || []).forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        experienceList.appendChild(li);
      });
    }

    localStorage.setItem('lang', lang);
    setActiveLanguage(lang);
  }

  // Инициализация языка
  applyTranslations(currentLangStorage);
  setActiveLanguage(currentLangStorage);

  // Навешиваем обработчики на кнопки языка
  document.getElementById('lang-en').addEventListener('click', e => {
    e.preventDefault();
    applyTranslations('en');
  });
  document.getElementById('lang-ru').addEventListener('click', e => {
    e.preventDefault();
    applyTranslations('ru');
  });

  // Сохраняем позицию скролла и хеш
  window.addEventListener('beforeunload', () => {
    localStorage.setItem('scrollPos', window.scrollY.toString());
    localStorage.setItem('lastAnchor', window.location.hash);
  });

  // При загрузке восстанавливаем скролл и хеш
  window.addEventListener('load', () => {
    const scrollPos = localStorage.getItem('scrollPos');
    const lastAnchor = localStorage.getItem('lastAnchor');
    if (lastAnchor) {
      window.location.hash = lastAnchor;
    }
    if (scrollPos) {
      window.scrollTo(0, parseInt(scrollPos, 10));
    }
  });
</script>

</body>
</html>
